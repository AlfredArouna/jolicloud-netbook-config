#!/bin/bash

######################################################################
# Main
######################################################################

DMIDEC='/usr/sbin/dmidecode'
KERNEL=`uname -r`

VENDOR=`${DMIDEC} -s system-manufacturer`
PRODNM=`${DMIDEC} -s system-product-name`
SERIAL=`${DMIDEC} -s system-serial-number`
BIOS=`${DMIDEC} -s bios-version`


######################################################################
# Functions
######################################################################

isNetBook ()
{
	if echo "${VENDOR}" | grep -qi "asustek"; then
		#isSerial "eeepc"
		#if [ $? -eq 1 ]; then
		#	return 1;
		#fi

		return 0;
	fi

	if echo "${VENDOR}" | grep -qi "hewlett-packard"; then
		if isProduct "Tx1000"; then
			return 0;
		fi

		isProduct "Tx1100"
		if isProduct "Tx1100"; then
			return 0;
		fi
	fi

	return 1;
}

isNetBookKernel ()
{
	if echo "${KERNEL}" | grep -q eeepc$; then
		return 0;
	fi

	return 1;
}

isProduct ()
{
	if echo "${PRODNM}" | grep -qi $1; then
		return 0;
	fi

	return 1;
}

isSerial ()
{
	if echo "${SERIAL}" | grep -qi $1; then
		return 0;
	fi

	return 1;
}

isModelLessThan ()
{
	expr "${PRODNM}" "<" "$1" > /dev/null
	return $?
}

isModelLessThanOrEqualTo ()
{
	expr "${PRODNM}" "<=" "$1" > /dev/null
	return $?
}

isModelGreaterThan ()
{
	expr "${PRODNM}" ">" "$1" > /dev/null
	return $?
}

isModelGreaterThanOrEqualTo ()
{
	expr "${PRODNM}" ">=" "$1" > /dev/null
	return $?
}

isModelEqualTo ()
{
	expr "${PRODNM}" "=" "$1" > /dev/null
	return $?
}


# vim:syntax=sh:noexpandtab
